*{margin:0;padding:0;box-sizing:border-box}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;color:#333}.container{max-width:1400px;margin:0 auto;padding:20px}.header{text-align:center;color:#fff;margin-bottom:30px}.header h1{font-size:2.5rem;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}select,input,button{padding:12px 15px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;transition:all .3s ease}select:focus,input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}button{cursor:pointer;font-weight:600;border:none}button:disabled{opacity:.6;cursor:not-allowed}.status{padding:15px;border-radius:8px;margin:20px 0;font-weight:600}.status.listening{background:#c6f6d5;color:#22543d;border:2px solid #9ae6b4}.status.error{background:#fed7d7;color:#742a2a;border:2px solid #fc8181}.status.inactive{background:#e2e8f0;color:#4a5568;border:2px solid #cbd5e0}.status.detecting{background:#bee3f8;color:#2a69ac;border:2px solid #90cdf4}.status-help{font-size:.9em;margin-top:8px;opacity:.8}.progress-bar{width:100%;height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin:10px 0}.progress-fill{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .3s ease}.setup-panel{background:#fff;border-radius:15px;padding:25px;margin-bottom:30px;box-shadow:0 10px 30px #0003}.setup-tabs{display:flex;margin-bottom:20px;border-bottom:2px solid #e2e8f0}.tab{padding:12px 24px;background:none;border:none;cursor:pointer;font-size:16px;font-weight:600;color:#666;border-bottom:3px solid transparent;transition:all .3s ease}.tab.active{color:#667eea;border-bottom-color:#667eea}.tab-content{display:none}.tab-content.active{display:block}.auto-detect{text-align:center;padding:30px}.microphone-notice{background:#e3f2fd;border-radius:8px;padding:15px;margin:15px 0;border-left:4px solid #2196f3}.microphone-notice h4{margin-bottom:8px;color:#1976d2}.microphone-notice p{margin:0;color:#1976d2}.detect-button{background:linear-gradient(45deg,#667eea,#764ba2);color:#fff;border:none;padding:15px 40px;border-radius:25px;font-size:18px;font-weight:600;cursor:pointer;margin-bottom:20px;transition:all .3s ease}.detect-button:hover{transform:translateY(-2px);box-shadow:0 10px 25px #667eea4d}.detect-instructions{background:#f8f9fa;border-radius:10px;padding:20px;margin:20px 0}.detect-instructions ol{text-align:left;margin-left:50px}.manual-config{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.config-group{display:flex;flex-direction:column}.config-group label{font-weight:600;margin-bottom:8px;color:#555}.config-group small{color:#666;margin-top:5px;display:block}#applyManualConfig{margin-top:20px;background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer}.drum-layouts{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-top:15px}.layout-option{padding:15px;border:2px solid #e2e8f0;border-radius:10px;cursor:pointer;text-align:center;transition:all .3s ease}.layout-option:hover,.layout-option.selected{border-color:#667eea;background:#f0f4ff}.detection-results{background:#f8f9fa;border-radius:10px;padding:20px;margin:20px 0}.detected-notes{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-top:15px}.detected-note{padding:10px;background:#fff;border-radius:5px;text-align:center;border:2px solid #e2e8f0}.detected-note.confirmed{border-color:#48bb78;background:#f0fff4}#confirmDetection{margin-top:15px;background:#48bb78;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.control-panel{background:#fff;border-radius:15px;padding:25px;margin-bottom:30px;box-shadow:0 10px 30px #0003}.controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:20px}.file-input{position:relative;overflow:hidden;display:inline-block;background:#667eea;color:#fff;padding:12px 20px;border-radius:8px;cursor:pointer;transition:all .3s ease}.file-input:hover{background:#5a67d8;transform:translateY(-2px)}.file-input input[type=file]{position:absolute;left:-9999px}#startButton{background:#48bb78;color:#fff}#startButton:hover:not(:disabled){background:#38a169}#toggleBuilder{background:#ed8936;color:#fff}#toggleBuilder:hover{background:#dd6b20}#testMicrophone{background:#667eea;color:#fff}#testMicrophone:hover:not(:disabled){background:#5a67d8}.audio-info{background:#fff;border-radius:15px;padding:20px;box-shadow:0 10px 30px #0003}.audio-info h3{margin-bottom:20px;text-align:center}.audio-metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px}.metric{text-align:center;padding:15px;background:#f8f9fa;border-radius:8px}.metric-value{font-size:1.5rem;font-weight:700;color:#667eea}.metric-label{font-size:.9rem;color:#666;margin-top:5px}.photo-upload{display:none}.notation-area{margin:30px 0}.drum-container{display:flex;justify-content:center;align-items:center;margin:30px 0;min-height:400px}.drum-visual{position:relative;background:radial-gradient(circle,#f7fafc,#e2e8f0);border-radius:50%;border:8px solid #4a5568;box-shadow:inset 0 0 20px #0000001a,0 10px 30px #0003}.drum-8{width:300px;height:300px}.drum-9{width:350px;height:350px}.drum-11{width:400px;height:400px}.drum-13{width:450px;height:450px}.drum-15{width:500px;height:500px}.tongue{position:absolute;background:linear-gradient(145deg,#e2e8f0,#cbd5e0);border-radius:15px;border:2px solid #a0aec0;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;font-weight:700;color:#2d3748;box-shadow:0 4px 8px #0000001a}.tongue-8{width:35px;height:50px;font-size:14px}.tongue-9{width:38px;height:55px;font-size:15px}.tongue-11{width:40px;height:60px;font-size:16px}.tongue-13{width:42px;height:65px;font-size:17px}.tongue-15{width:44px;height:70px;font-size:18px}.tongue:hover{transform:scale(1.1);box-shadow:0 6px 12px #0003}.tongue.playing{background:linear-gradient(145deg,#48bb78,#38a169);color:#fff;transform:scale(1.2);box-shadow:0 0 20px #48bb7899;animation:pulse .5s ease-in-out}.tongue.next{background:linear-gradient(145deg,#ed8936,#dd6b20);color:#fff;animation:glow 1s ease-in-out infinite alternate}.center-note{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(145deg,#667eea,#5a67d8);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;border:3px solid #4c51bf;box-shadow:0 6px 15px #0003}.center-8{width:60px;height:60px;font-size:20px}.center-9{width:70px;height:70px;font-size:22px}.center-11{width:80px;height:80px;font-size:24px}.center-13{width:90px;height:90px;font-size:26px}.center-15{width:100px;height:100px;font-size:28px}@keyframes pulse{0%{transform:scale(1.2)}50%{transform:scale(1.3)}to{transform:scale(1.2)}}@keyframes glow{0%{box-shadow:0 0 10px #ed893680}to{box-shadow:0 0 20px #ed8936cc}}.notation-display{background:#f8f9fa;border-radius:10px;padding:20px;margin-top:20px;font-family:Courier New,monospace}.notation-line{display:flex;align-items:center;margin:10px 0;font-size:18px;line-height:1.5;flex-wrap:wrap}.notation-line.octave-example{margin-top:10px}.note{display:inline-block;margin:2px 3px;padding:5px 8px;border-radius:5px;background:#e2e8f0;transition:all .3s ease;min-width:30px;text-align:center}.note.current{background:#48bb78;color:#fff;transform:scale(1.1)}.note.next{background:#ed8936;color:#fff}.notation-help{font-size:.9em;color:#666;margin-top:10px}.notation-builder{background:#fff;border-radius:15px;padding:25px;margin-bottom:30px;box-shadow:0 10px 30px #0003}.builder-header{text-align:center;margin-bottom:25px}.builder-header h3{color:#667eea;margin-bottom:10px}.tongue-selector{margin-bottom:30px}.selector-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:15px;max-width:800px;margin:0 auto}.selector-tongue{position:relative;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border:2px solid #dee2e6;border-radius:12px;padding:15px;text-align:center;cursor:pointer;transition:all .3s ease;user-select:none}.selector-tongue:hover{transform:translateY(-2px);box-shadow:0 6px 12px #00000026;border-color:#667eea}.selector-tongue.selected{background:linear-gradient(145deg,#667eea,#5a67d8);color:#fff;border-color:#4c51bf}.tongue-number{font-size:18px;font-weight:700;margin-bottom:8px}.octave-controls{display:flex;justify-content:center;gap:5px}.octave-btn{width:24px;height:24px;border:1px solid #ccc;background:#fff;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:12px;transition:all .2s ease}.octave-btn:hover{background:#f1f3f4}.octave-btn.active{background:#667eea;color:#fff;border-color:#667eea}.notation-sequence{background:#f8f9fa;border-radius:10px;padding:20px;margin-bottom:25px}.sequence-container{min-height:80px;border:2px dashed #dee2e6;border-radius:8px;padding:15px;display:flex;flex-wrap:wrap;align-items:center;gap:10px}.empty-sequence{color:#6c757d;font-style:italic;width:100%;text-align:center}.sequence-note{background:#fff;border:2px solid #667eea;border-radius:8px;padding:10px 15px;position:relative;cursor:pointer;transition:all .3s ease;user-select:none}.sequence-note:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.sequence-note.playing{background:#48bb78;color:#fff;border-color:#38a169}.note-number{font-size:16px;font-weight:700}.note-octave{position:absolute;font-size:10px;font-weight:700}.note-octave.high{top:2px;right:4px;color:#e53e3e}.note-octave.low{bottom:2px;right:4px;color:#3182ce}.note-remove{position:absolute;top:-5px;right:-5px;width:18px;height:18px;background:#e53e3e;color:#fff;border-radius:50%;border:none;cursor:pointer;font-size:10px;display:none}.sequence-note:hover .note-remove{display:flex;align-items:center;justify-content:center}.builder-controls{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}.builder-controls button{padding:12px 20px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease}#playSequence{background:#48bb78;color:#fff}#playSequence:hover:not(:disabled){background:#38a169}#clearSequence{background:#e53e3e;color:#fff}#clearSequence:hover{background:#c53030}#exportSequence{background:#667eea;color:#fff}#exportSequence:hover{background:#5a67d8}#closeBuilder{background:#6c757d;color:#fff}#closeBuilder:hover{background:#5a6268}.layout-builder{text-align:center}.layout-controls{display:flex;gap:15px;justify-content:center;margin:20px 0;flex-wrap:wrap}.layout-controls button{padding:10px 20px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease}#resetLayout{background:#6c757d;color:#fff}#loadPhoto{background:#17a2b8;color:#fff}#saveLayout{background:#28a745;color:#fff}#pandaLayout{background:#fd7e14;color:#fff}.layout-canvas{position:relative;width:600px;height:600px;margin:20px auto;border:3px solid #dee2e6;border-radius:50%;background:#f8f9fa;overflow:hidden;user-select:none}.layout-background{position:absolute;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat}.canvas-instructions{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#6c757d;font-style:italic;text-align:center;pointer-events:none;z-index:1}.draggable-tongue{position:absolute;width:50px;height:50px;background:linear-gradient(145deg,#667eea,#5a67d8);border:3px solid #4c51bf;border-radius:50%;color:#fff;font-weight:700;font-size:16px;display:flex;align-items:center;justify-content:center;cursor:move;transition:all .3s ease;z-index:10;box-shadow:0 4px 8px #0003}.draggable-tongue:hover{transform:scale(1.1);box-shadow:0 6px 12px #0000004d}.draggable-tongue.dragging{transform:scale(1.2);z-index:20;box-shadow:0 8px 16px #0006}.layout-info{background:#f8f9fa;border-radius:10px;padding:20px;margin-top:20px;text-align:left}.layout-info ul{margin-left:20px;line-height:1.6}.drum-photo-preview{max-width:100%;max-height:400px;margin:15px 0;border-radius:10px;box-shadow:0 4px 8px #0000001a}
